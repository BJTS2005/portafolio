---
import Layout from "../../layouts/Layout.astro";
import { Image } from "astro:assets";
import { Icon } from "astro-icon/components";
import Footer from "../../components/Footer.astro";
import pagoDirectoFlow from "../../assets/images/pago-directo-flow.png";
---

<Layout title="Automatización Cuadre Pago Directo | Jesus">
    <!-- Efectos de fondo -->
    <div class="fixed inset-0 overflow-hidden pointer-events-none">
        <div
            class="absolute -top-40 -right-40 w-96 h-96 bg-accent-purple/20 rounded-full blur-[128px] animate-pulse-glow"
        >
        </div>
        <div
            class="absolute -bottom-40 -left-40 w-96 h-96 bg-accent-cyan/10 rounded-full blur-[128px] animate-pulse-glow"
            style="animation-delay: 1s;"
        >
        </div>
    </div>

    <!-- Navbar -->
    <nav
        class="fixed top-0 left-0 right-0 z-50 px-6 py-4 backdrop-blur-md bg-primary/80 border-b border-white/5"
    >
        <div class="max-w-6xl mx-auto flex items-center justify-between">
            <a href="/" class="text-xl font-semibold tracking-tight group">
                <span class="text-accent-cyan">&lt;</span>
                <span
                    class="text-text-primary group-hover:text-accent-purple transition-colors"
                    >Jesus</span
                >
                <span class="text-accent-cyan">/&gt;</span>
            </a>
            <a
                href="/#projects"
                class="text-text-secondary hover:text-accent-cyan transition-colors text-sm flex items-center gap-2"
            >
                <svg
                    class="w-4 h-4"
                    fill="none"
                    stroke="currentColor"
                    viewBox="0 0 24 24"
                >
                    <path
                        stroke-linecap="round"
                        stroke-linejoin="round"
                        stroke-width="2"
                        d="M10 19l-7-7m0 0l7-7m-7 7h18"></path>
                </svg>
                Volver a proyectos
            </a>
        </div>
    </nav>

    <main class="pt-32 pb-20 px-6">
        <div class="max-w-4xl mx-auto">
            <!-- Header del proyecto -->
            <header class="mb-16">
                <div class="flex items-center gap-4 mb-6">
                    <span
                        class="px-3 py-1 bg-green-500/10 text-green-400 text-xs rounded-full border border-green-500/20"
                    >
                        En Producción
                    </span>
                    <span
                        class="px-3 py-1 bg-accent-purple/10 text-accent-purple text-xs rounded-full border border-accent-purple/20"
                    >
                        Mutualista Imbabura
                    </span>
                </div>

                <h1
                    class="text-4xl md:text-5xl font-bold text-text-primary mb-4"
                >
                    Automatización <span class="text-accent-purple"
                        >Cuadre Pago Directo</span
                    >
                </h1>

                <p
                    class="text-text-secondary text-lg leading-relaxed max-w-2xl"
                >
                    Automatización de la conciliación bancaria que transformó
                    una operación manual de 75 minutos en menos de 15 segundos.
                </p>
            </header>

            <!-- Métrica principal destacada -->
            <div
                class="relative mb-16 py-6 px-4 md:px-6 bg-gradient-to-br from-accent-purple/10 to-accent-cyan/5 border border-white/10 rounded-2xl overflow-hidden"
            >
                <div
                    class="absolute top-0 right-0 w-40 h-40 bg-accent-purple/10 rounded-full blur-3xl"
                >
                </div>
                <div
                    class="relative grid grid-cols-[1fr_auto_1fr] items-center gap-4 md:gap-6 text-center"
                >
                    <div>
                        <div
                            class="text-3xl md:text-5xl font-bold text-text-muted opacity-50 line-through decoration-red-500/40"
                        >
                            75 min
                        </div>
                        <div class="text-text-muted text-xs md:text-sm mt-1">
                            Proceso manual
                        </div>
                    </div>
                    <div class="flex flex-col items-center">
                        <div
                            class="w-px h-16 bg-gradient-to-b from-white/5 via-white/20 to-white/5"
                        >
                        </div>
                    </div>
                    <div>
                        <div
                            class="text-3xl md:text-5xl font-bold text-accent-purple"
                        >
                            &lt;15 seg
                        </div>
                        <div class="text-text-muted text-xs md:text-sm mt-1">
                            Proceso automatizado
                        </div>
                    </div>
                </div>
                <div class="text-center mt-4">
                    <span
                        class="px-3 py-1.5 bg-green-500/10 text-green-400 text-xs md:text-sm rounded-full border border-green-500/20"
                    >
                        99.7% de reducción de tiempo
                    </span>
                </div>
            </div>

            <!-- Imagen del proyecto -->
            <div
                class="relative mb-16 rounded-2xl overflow-hidden border border-white/10 cursor-pointer group"
                onclick="document.getElementById('modal-pago-directo').classList.remove('hidden')"
            >
                <Image
                    src={pagoDirectoFlow}
                    alt="Diagrama del flujo de Pago Directo"
                    class="w-full h-auto group-hover:scale-[1.02] transition-transform duration-300"
                    loading="eager"
                    quality={75}
                />
                <div
                    class="absolute inset-0 bg-black/0 group-hover:bg-black/20 transition-colors duration-300 flex items-center justify-center"
                >
                    <div
                        class="opacity-0 group-hover:opacity-100 transition-opacity duration-300 bg-black/60 backdrop-blur-sm px-4 py-2 rounded-lg flex items-center gap-2"
                    >
                        <Icon
                            name="tabler:zoom-in"
                            class="w-5 h-5 text-white"
                        />
                        <span class="text-white text-sm font-medium"
                            >Abrir diagrama</span
                        >
                    </div>
                </div>
            </div>

            <!-- El Problema -->
            <section class="mb-16">
                <h2
                    class="text-2xl font-bold text-text-primary mb-6 flex items-center gap-3"
                >
                    <span class="text-accent-cyan font-mono text-lg">//</span>
                    El Problema
                </h2>
                <div class="p-6 bg-surface/50 border border-white/5 rounded-xl">
                    <p class="text-text-secondary leading-relaxed">
                        El proceso de conciliación de Pago Directo en Mutualista
                        Imbabura se realizaba de forma
                        <span class="text-red-400">completamente manual</span>.
                        Un operador debía abrir múltiples archivos de diferentes
                        fuentes, copiar datos entre hojas, aplicar fórmulas,
                        identificar discrepancias visualmente, y generar
                        reportes. Este proceso tomaba aproximadamente <span
                            class="text-red-400">75 minutos por ciclo</span
                        >, era propenso a errores humanos y <span
                            class="text-red-400"
                            >requería personal capacitado</span
                        > específicamente en el proceso de cuadre de Pago Directo.
                    </p>
                </div>
            </section>

            <!-- La Solución -->
            <section class="mb-16">
                <h2
                    class="text-2xl font-bold text-text-primary mb-6 flex items-center gap-3"
                >
                    <span class="text-accent-cyan font-mono text-lg">//</span>
                    La Solución
                </h2>
                <div class="p-6 bg-surface/50 border border-white/5 rounded-xl">
                    <p class="text-text-secondary leading-relaxed">
                        Desarrollé un sistema de escritorio que <span
                            class="text-green-400"
                            >automatiza completamente</span
                        >
                        el proceso de conciliación de Pago Directo. El usuario solo
                        selecciona los archivos fuente y el sistema procesa automáticamente
                        toda la información, aplica validaciones, identifica discrepancias,
                        y genera el reporte de cuadre. El sistema fue validado contra
                        cuadres históricos y <span class="text-green-400"
                            >simplificó la operación al punto de que cualquier
                            colaborador puede ejecutarlo</span
                        > sin necesidad de conocimiento especializado en el proceso.
                    </p>
                </div>
            </section>

            <!-- Tech Stack -->
            <section class="mb-16">
                <h2
                    class="text-2xl font-bold text-text-primary mb-6 flex items-center gap-3"
                >
                    <span class="text-accent-cyan font-mono text-lg">//</span>
                    Tech Stack
                </h2>

                <div class="grid md:grid-cols-2 gap-4">
                    <div
                        class="p-5 bg-surface/50 border border-white/5 rounded-xl hover:border-accent-purple/30 transition-all group"
                    >
                        <div class="flex items-center gap-4">
                            <div
                                class="w-12 h-12 bg-accent-purple/10 rounded-lg flex items-center justify-center"
                            >
                                <Icon
                                    name="simple-icons:dotnet"
                                    class="w-6 h-6 text-accent-purple"
                                />
                            </div>
                            <div>
                                <h3
                                    class="text-text-primary font-medium group-hover:text-accent-purple transition-colors"
                                >
                                    .NET 8.0
                                </h3>
                                <p class="text-text-muted text-sm">
                                    Framework principal
                                </p>
                            </div>
                        </div>
                    </div>

                    <div
                        class="p-5 bg-surface/50 border border-white/5 rounded-xl hover:border-accent-cyan/30 transition-all group"
                    >
                        <div class="flex items-center gap-4">
                            <div
                                class="w-12 h-12 bg-accent-cyan/10 rounded-lg flex items-center justify-center"
                            >
                                <Icon
                                    name="tabler:device-desktop"
                                    class="w-6 h-6 text-accent-cyan"
                                />
                            </div>
                            <div>
                                <h3
                                    class="text-text-primary font-medium group-hover:text-accent-cyan transition-colors"
                                >
                                    Windows Forms
                                </h3>
                                <p class="text-text-muted text-sm">
                                    Interfaz de usuario
                                </p>
                            </div>
                        </div>
                    </div>

                    <div
                        class="p-5 bg-surface/50 border border-white/5 rounded-xl hover:border-accent-purple/30 transition-all group"
                    >
                        <div class="flex items-center gap-4">
                            <div
                                class="w-12 h-12 bg-accent-purple/10 rounded-lg flex items-center justify-center"
                            >
                                <Icon
                                    name="tabler:file-spreadsheet"
                                    class="w-6 h-6 text-accent-purple"
                                />
                            </div>
                            <div>
                                <h3
                                    class="text-text-primary font-medium group-hover:text-accent-purple transition-colors"
                                >
                                    ClosedXML
                                </h3>
                                <p class="text-text-muted text-sm">
                                    Generación de reportes Excel
                                </p>
                            </div>
                        </div>
                    </div>

                    <div
                        class="p-5 bg-surface/50 border border-white/5 rounded-xl hover:border-accent-cyan/30 transition-all group"
                    >
                        <div class="flex items-center gap-4">
                            <div
                                class="w-12 h-12 bg-accent-cyan/10 rounded-lg flex items-center justify-center"
                            >
                                <Icon
                                    name="tabler:building-arch"
                                    class="w-6 h-6 text-accent-cyan"
                                />
                            </div>
                            <div>
                                <h3
                                    class="text-text-primary font-medium group-hover:text-accent-cyan transition-colors"
                                >
                                    Clean Architecture
                                </h3>
                                <p class="text-text-muted text-sm">
                                    Arquitectura por capas
                                </p>
                            </div>
                        </div>
                    </div>
                </div>
            </section>

            <!-- Arquitectura -->
            <section class="mb-16">
                <h2
                    class="text-2xl font-bold text-text-primary mb-6 flex items-center gap-3"
                >
                    <span class="text-accent-cyan font-mono text-lg">//</span>
                    Arquitectura
                </h2>

                <div
                    class="bg-surface/50 border border-white/10 rounded-xl p-6 font-mono text-sm overflow-x-auto"
                >
                    <div class="text-text-muted mb-4">
                        // Clean Architecture
                    </div>
                    <pre
                        class="text-text-secondary">
<span class="text-accent-purple">PagoDirecto-Mutualista_Imbabura</span>
    │
    ├── <span class="text-accent-cyan">Domain</span>
    │   <span class="text-text-muted">└── Entidades y reglas de negocio</span>
    │
    ├── <span class="text-accent-cyan">Application</span>
    │   <span class="text-text-muted">└── Casos de uso y abstracciones</span>
    │
    ├── <span class="text-accent-cyan">Infrastructure</span>
    │   <span class="text-text-muted">└── Implementaciones y acceso a datos</span>
    │
    └── <span class="text-accent-cyan">Presentation</span>
        <span class="text-text-muted">└── Interfaz de usuario</span>
        </pre>
                </div>
            </section>

            <!-- Flujo del proceso -->
            <section class="mb-16">
                <h2
                    class="text-2xl font-bold text-text-primary mb-6 flex items-center gap-3"
                >
                    <span class="text-accent-cyan font-mono text-lg">//</span>
                    Flujo del Proceso
                </h2>

                <div class="space-y-4">
                    <div class="flex gap-4">
                        <div
                            class="w-10 h-10 bg-accent-cyan/10 rounded-lg flex items-center justify-center text-accent-cyan font-bold shrink-0"
                        >
                            1
                        </div>
                        <div
                            class="flex-1 p-4 bg-surface/50 border border-white/5 rounded-xl"
                        >
                            <h3 class="text-text-primary font-medium mb-1">
                                Carga de Archivos
                            </h3>
                            <p class="text-text-secondary text-sm">
                                El usuario selecciona los archivos fuente
                                necesarios para el proceso de conciliación.
                            </p>
                        </div>
                    </div>

                    <div class="flex gap-4">
                        <div
                            class="w-10 h-10 bg-accent-purple/10 rounded-lg flex items-center justify-center text-accent-purple font-bold shrink-0"
                        >
                            2
                        </div>
                        <div
                            class="flex-1 p-4 bg-surface/50 border border-white/5 rounded-xl"
                        >
                            <h3 class="text-text-primary font-medium mb-1">
                                Parsing y Normalización
                            </h3>
                            <p class="text-text-secondary text-sm">
                                El sistema lee y normaliza la información de
                                cada archivo para poder compararlos entre sí.
                            </p>
                        </div>
                    </div>

                    <div class="flex gap-4">
                        <div
                            class="w-10 h-10 bg-accent-cyan/10 rounded-lg flex items-center justify-center text-accent-cyan font-bold shrink-0"
                        >
                            3
                        </div>
                        <div
                            class="flex-1 p-4 bg-surface/50 border border-white/5 rounded-xl"
                        >
                            <h3 class="text-text-primary font-medium mb-1">
                                Validación y Cruce
                            </h3>
                            <p class="text-text-secondary text-sm">
                                Se cruza la información entre las diferentes
                                fuentes, identificando coincidencias y
                                discrepancias automáticamente.
                            </p>
                        </div>
                    </div>

                    <div class="flex gap-4">
                        <div
                            class="w-10 h-10 bg-accent-purple/10 rounded-lg flex items-center justify-center text-accent-purple font-bold shrink-0"
                        >
                            4
                        </div>
                        <div
                            class="flex-1 p-4 bg-surface/50 border border-white/5 rounded-xl"
                        >
                            <h3 class="text-text-primary font-medium mb-1">
                                Generación de Reporte
                            </h3>
                            <p class="text-text-secondary text-sm">
                                Se genera el reporte con el cuadre, incluyendo
                                resumen y formato condicional para
                                identificación visual de diferencias.
                            </p>
                        </div>
                    </div>
                </div>
            </section>

            <!-- Características -->
            <section class="mb-16">
                <h2
                    class="text-2xl font-bold text-text-primary mb-6 flex items-center gap-3"
                >
                    <span class="text-accent-cyan font-mono text-lg">//</span>
                    Características Clave
                </h2>

                <div class="grid md:grid-cols-2 gap-4">
                    <div
                        class="p-5 bg-surface/50 border border-white/5 rounded-xl"
                    >
                        <div class="flex items-center gap-3 mb-2">
                            <Icon
                                name="tabler:check"
                                class="w-5 h-5 text-green-400"
                            />
                            <h3 class="text-text-primary font-medium">
                                Fácil de Usar
                            </h3>
                        </div>
                        <p class="text-text-muted text-sm">
                            Cualquier colaborador puede ejecutar el proceso sin
                            capacitación especializada en el cuadre.
                        </p>
                    </div>

                    <div
                        class="p-5 bg-surface/50 border border-white/5 rounded-xl"
                    >
                        <div class="flex items-center gap-3 mb-2">
                            <Icon
                                name="tabler:check"
                                class="w-5 h-5 text-green-400"
                            />
                            <h3 class="text-text-primary font-medium">
                                Alto Volumen
                            </h3>
                        </div>
                        <p class="text-text-muted text-sm">
                            Capacidad de procesar archivos con miles de
                            registros sin degradación de rendimiento.
                        </p>
                    </div>

                    <div
                        class="p-5 bg-surface/50 border border-white/5 rounded-xl"
                    >
                        <div class="flex items-center gap-3 mb-2">
                            <Icon
                                name="tabler:check"
                                class="w-5 h-5 text-green-400"
                            />
                            <h3 class="text-text-primary font-medium">
                                Reportes Visuales
                            </h3>
                        </div>
                        <p class="text-text-muted text-sm">
                            Formato condicional para identificación rápida de
                            diferencias en el reporte.
                        </p>
                    </div>

                    <div
                        class="p-5 bg-surface/50 border border-white/5 rounded-xl"
                    >
                        <div class="flex items-center gap-3 mb-2">
                            <Icon
                                name="tabler:check"
                                class="w-5 h-5 text-green-400"
                            />
                            <h3 class="text-text-primary font-medium">
                                Validado
                            </h3>
                        </div>
                        <p class="text-text-muted text-sm">
                            Sistema verificado con datos reales para garantizar
                            resultados correctos.
                        </p>
                    </div>
                </div>
            </section>

            <!-- Aprendizajes -->
            <section class="mb-16">
                <h2
                    class="text-2xl font-bold text-text-primary mb-6 flex items-center gap-3"
                >
                    <span class="text-accent-cyan font-mono text-lg">//</span>
                    Lo que Aprendí
                </h2>

                <div class="space-y-4">
                    <div class="flex gap-4">
                        <div
                            class="w-10 h-10 bg-accent-cyan/10 rounded-lg flex items-center justify-center text-accent-cyan font-bold shrink-0"
                        >
                            1
                        </div>
                        <div>
                            <h3 class="text-text-primary font-medium mb-1">
                                Procesamiento de Archivos
                            </h3>
                            <p class="text-text-secondary text-sm">
                                Manejo eficiente de diferentes fuentes de datos
                                y optimización para grandes volúmenes de
                                información.
                            </p>
                        </div>
                    </div>

                    <div class="flex gap-4">
                        <div
                            class="w-10 h-10 bg-accent-purple/10 rounded-lg flex items-center justify-center text-accent-purple font-bold shrink-0"
                        >
                            2
                        </div>
                        <div>
                            <h3 class="text-text-primary font-medium mb-1">
                                Arquitectura Limpia
                            </h3>
                            <p class="text-text-secondary text-sm">
                                Separación de responsabilidades en capas para
                                facilitar mantenimiento y futuras extensiones.
                            </p>
                        </div>
                    </div>

                    <div class="flex gap-4">
                        <div
                            class="w-10 h-10 bg-accent-cyan/10 rounded-lg flex items-center justify-center text-accent-cyan font-bold shrink-0"
                        >
                            3
                        </div>
                        <div>
                            <h3 class="text-text-primary font-medium mb-1">
                                Contexto de Negocio
                            </h3>
                            <p class="text-text-secondary text-sm">
                                Comprensión de procesos de conciliación bancaria
                                y requisitos de auditoría.
                            </p>
                        </div>
                    </div>

                    <div class="flex gap-4">
                        <div
                            class="w-10 h-10 bg-accent-purple/10 rounded-lg flex items-center justify-center text-accent-purple font-bold shrink-0"
                        >
                            4
                        </div>
                        <div>
                            <h3 class="text-text-primary font-medium mb-1">
                                Impacto Real
                            </h3>
                            <p class="text-text-secondary text-sm">
                                Cómo la automatización puede transformar
                                procesos operativos y liberar recursos para
                                tareas de mayor valor.
                            </p>
                        </div>
                    </div>
                </div>
            </section>

            <!-- CTA Final -->
            <section class="text-center pt-8 border-t border-white/10">
                <p class="text-text-secondary mb-6">
                    ¿Tienes procesos manuales que podrían beneficiarse de
                    automatización?
                </p>
                <a
                    href="/#contact"
                    class="inline-flex items-center gap-2 px-8 py-4 bg-gradient-to-r from-accent-cyan to-accent-purple rounded-lg font-medium text-primary hover:scale-105 hover:shadow-[0_0_40px_rgba(168,85,247,0.3)] transition-all"
                >
                    Hablemos
                    <svg
                        class="w-4 h-4"
                        fill="none"
                        stroke="currentColor"
                        viewBox="0 0 24 24"
                    >
                        <path
                            stroke-linecap="round"
                            stroke-linejoin="round"
                            stroke-width="2"
                            d="M17 8l4 4m0 0l-4 4m4-4H3"></path>
                    </svg>
                </a>
            </section>
        </div>
    </main>

    <Footer />
    <!-- Modal Imagen Pago Directo -->
    <div
        id="modal-pago-directo"
        class="hidden fixed inset-0 z-[100] flex items-center justify-center p-4"
        onclick="if(event.target === this) this.classList.add('hidden')"
    >
        <!-- Backdrop -->
        <div class="absolute inset-0 bg-black/80 backdrop-blur-sm"></div>

        <!-- Contenido del modal -->
        <div
            class="relative max-w-6xl w-full max-h-[90vh] flex flex-col items-center"
        >
            <!-- Botón cerrar -->
            <button
                onclick="document.getElementById('modal-pago-directo').classList.add('hidden')"
                class="absolute -top-2 -right-2 z-10 w-10 h-10 bg-surface/80 backdrop-blur-sm border border-white/10 rounded-full flex items-center justify-center text-text-muted hover:text-white hover:border-accent-purple/50 transition-all cursor-pointer"
            >
                <Icon name="tabler:x" class="w-5 h-5" />
            </button>

            <!-- Imagen -->
            <Image
                src={pagoDirectoFlow}
                alt="Diagrama del flujo de Pago Directo"
                class="max-w-full max-h-[85vh] object-contain rounded-xl border border-white/10"
                loading="lazy"
                quality={75}
            />
        </div>
    </div>

    <script>
        document.addEventListener("keydown", (e) => {
            if (e.key === "Escape") {
                document
                    .getElementById("modal-pago-directo")
                    ?.classList.add("hidden");
            }
        });
    </script>
</Layout>
